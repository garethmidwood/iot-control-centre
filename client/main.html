<head>
  <title>Control Centre</title>
</head>

<body>
    {{> head}}

    <h2>Devices online</h2>
    <ul id="devices" class="col-{{devices.count}}">
        {{#each devices}}
            {{> device}}
        {{/each}}
    </ul>

    {{> beat_counter}}
    {{> keyboard}}
</body>

<template name="head">
    <h1>
        Control Panel
    </h1>
</template>

<template name="device">
    <li class="online"><strong>{{deviceType}}:</strong> {{deviceName}}</li>
</template>

<template name="beat_counter">
    <div class="beat_counter">
        <span>{{config.value}}</span>bpm
    </div>
</template>

<template name="keyboard">
    <p>nextNote: {{ nextNote }}</p>
    <div class="notes-container">    
        {{#each currentNotes}}
            {{> currentNote}}
        {{/each}}
    </div>
    <div class="controls-container">    
        <button class="restart">
            Restart
        </button>
        <button class="pause">
            Pause
        </button>
        <button class="update sequence">
            Send to flower
        </button>
    </div>
    <div class="keyboard">
        <button class="keyboardKey">A</button>
        <button class="keyboardKey">B</button>
        <button class="keyboardKey">C</button>
        <button class="keyboardKey">D</button>
        <button class="keyboardKey">E</button>
        <button class="keyboardKey">F</button>
        <button class="keyboardKey">G</button>
        <button class="keyboardKey">H</button>
        <button class="clear">Reset/Clear</button>
    </div>
</template>

<template name="currentNote">
    <div class="note note{{_id}} {{#if variableMatches nextNote _id}}active{{/if}}">
        {{_id}} : {{value}}
    </div>
</template>

